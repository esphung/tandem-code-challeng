{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ericphung/Desktop/tandem/expo-app-solution/src/screens/PromptScreen.js\";\nimport React, { useState, useEffect, useLayoutEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Heading from \"../components/shared/Heading\";\nimport TriviaCard from \"../components/shared/TriviaCard\";\n\nvar getListData = function getListData(list) {\n  var result = list.map(function (element, index) {\n    var item = {\n      id: index,\n      title: element\n    };\n    return item;\n  });\n  return result;\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    padding: 8,\n    paddingTop: 50\n  },\n  text: {\n    margin: 24,\n    fontSize: 18,\n    textAlign: 'center'\n  }\n});\n\nfunction PromptScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedAnswer = _useState2[0],\n      setSelectedAnswer = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listData = _useState4[0],\n      setListData = _useState4[1];\n\n  var _route$params = route.params,\n      cardId = _route$params.cardId,\n      data = _route$params.data,\n      results = _route$params.results;\n\n  var showResultsScreen = function showResultsScreen() {\n    console.log('results.answers.length: ', results.answers.length);\n    console.log('data.length: ', data.length);\n    navigation.push('Results', {\n      data: data,\n      results: results\n    });\n  };\n\n  var showNextPromptScreen = function showNextPromptScreen() {\n    navigation.push('Prompt', {\n      cardId: cardId + 1,\n      data: data,\n      results: results\n    });\n  };\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return React.createElement(Button, {\n          onPress: function onPress() {\n            return navigation.replace('Welcome');\n          },\n          title: \"Quit\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }\n        });\n      }\n    });\n  }, [navigation]);\n  useEffect(function () {\n    if (selectedAnswer) {\n      results.answers[cardId] = selectedAnswer;\n    } else {\n      results.answers[cardId] = {\n        id: cardId,\n        title: ''\n      };\n    }\n  }, [selectedAnswer]);\n  useEffect(function () {\n    if (cardId >= global.MAX_QUESTIONS_PER_ROUND) showResultsScreen();\n    var answers = data[cardId].incorrect.concat(data[cardId].correct);\n    setListData(getListData(answers));\n    if (results.answers[cardId] && results.answers[cardId].title !== '') setSelectedAnswer(results.answers[cardId]);\n  }, [cardId]);\n  var view = React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, React.createElement(Heading, {\n    title: \"Question Number:\" + ' ' + (cardId + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }), React.createElement(TriviaCard, {\n    item: data[cardId],\n    selectedAnswer: selectedAnswer,\n    setSelectedAnswer: setSelectedAnswer,\n    cardId: cardId,\n    results: results,\n    listData: listData,\n    setListData: setListData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Submit\",\n    onPress: function onPress() {\n      if (cardId >= data.length - 1) {\n        showResultsScreen();\n      } else {\n        showNextPromptScreen();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }));\n  return view;\n}\n\nexport default PromptScreen;","map":{"version":3,"sources":["/Users/ericphung/Desktop/tandem/expo-app-solution/src/screens/PromptScreen.js"],"names":["React","useState","useEffect","useLayoutEffect","Heading","TriviaCard","getListData","list","result","map","element","index","item","id","title","styles","StyleSheet","create","container","flex","alignItems","padding","paddingTop","text","margin","fontSize","textAlign","PromptScreen","navigation","route","selectedAnswer","setSelectedAnswer","listData","setListData","params","cardId","data","results","showResultsScreen","console","log","answers","length","push","showNextPromptScreen","setOptions","headerRight","replace","global","MAX_QUESTIONS_PER_ROUND","incorrect","concat","correct","view"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,eAArC,QAA4D,OAA5D;;;;AASA,OAAOC,OAAP;AAEA,OAAOC,UAAP;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAU;AAC5B,MAAMC,MAAM,GAAGD,IAAI,CAACE,GAAL,CAAS,UAACC,OAAD,EAAUC,KAAV,EAAoB;AAE1C,QAAMC,IAAI,GAAG;AAAEC,MAAAA,EAAE,EAAEF,KAAN;AAAaG,MAAAA,KAAK,EAAEJ;AAApB,KAAb;AAKA,WAAOE,IAAP;AACD,GARc,CAAf;AASA,SAAOJ,MAAP;AACD,CAXD;;AAYA,IAAMO,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE,CADG;AAGTC,IAAAA,UAAU,EAAE,QAHH;AAKTC,IAAAA,OAAO,EAAE,CALA;AAMTC,IAAAA,UAAU,EAAE;AANH,GADoB;AAS/BC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,EADJ;AAEJC,IAAAA,QAAQ,EAAE,EAFN;AAIJC,IAAAA,SAAS,EAAE;AAJP;AATyB,CAAlB,CAAf;;AAiBA,SAASC,YAAT,OAA6C;AAAA;;AAAA,MAArBC,UAAqB,QAArBA,UAAqB;AAAA,MAATC,KAAS,QAATA,KAAS;;AAAA,kBAIC5B,QAAQ,CAAC,EAAD,CAJT;AAAA;AAAA,MAIpC6B,cAJoC;AAAA,MAIpBC,iBAJoB;;AAAA,mBAMX9B,QAAQ,CAAC,EAAD,CANG;AAAA;AAAA,MAMpC+B,QANoC;AAAA,MAM1BC,WAN0B;;AAAA,sBASTJ,KAAK,CAACK,MATG;AAAA,MASnCC,MATmC,iBASnCA,MATmC;AAAA,MAS3BC,IAT2B,iBAS3BA,IAT2B;AAAA,MASrBC,OATqB,iBASrBA,OATqB;;AAa3C,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCH,OAAO,CAACI,OAAR,CAAgBC,MAAxD;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BJ,IAAI,CAACM,MAAlC;AACAd,IAAAA,UAAU,CAACe,IAAX,CAAgB,SAAhB,EAA2B;AAC3BP,MAAAA,IAAI,EAAJA,IAD2B;AAE3BC,MAAAA,OAAO,EAAPA;AAF2B,KAA3B;AAGC,GANH;;AAOA,MAAMO,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AAEjChB,IAAAA,UAAU,CAACe,IAAX,CAAgB,QAAhB,EAA0B;AACxBR,MAAAA,MAAM,EAAEA,MAAM,GAAG,CADO;AAExBC,MAAAA,IAAI,EAAJA,IAFwB;AAGxBC,MAAAA,OAAO,EAAPA;AAHwB,KAA1B;AAKD,GAPD;;AAQAlC,EAAAA,eAAe,CAAC,YAAM;AACpByB,IAAAA,UAAU,CAACiB,UAAX,CAAsB;AACpBC,MAAAA,WAAW,EAAE;AAAA,eACX,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAE;AAAA,mBAAMlB,UAAU,CAACmB,OAAX,CAAmB,SAAnB,CAAN;AAAA,WAAjB;AAAsD,UAAA,KAAK,EAAC,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADW;AAAA;AADO,KAAtB;AAKD,GANc,EAMZ,CAACnB,UAAD,CANY,CAAf;AAQA1B,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAI4B,cAAJ,EAAoB;AAClBO,MAAAA,OAAO,CAACI,OAAR,CAAgBN,MAAhB,IAA0BL,cAA1B;AACD,KAFD,MAEO;AACLO,MAAAA,OAAO,CAACI,OAAR,CAAgBN,MAAhB,IAA0B;AACxBtB,QAAAA,EAAE,EAAEsB,MADoB;AAExBrB,QAAAA,KAAK,EAAE;AAFiB,OAA1B;AAID;AAEF,GAXQ,EAWN,CAACgB,cAAD,CAXM,CAAT;AAaA5B,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAIiC,MAAM,IAAIa,MAAM,CAACC,uBAArB,EAA8CX,iBAAiB;AAE/D,QAAMG,OAAO,GAAGL,IAAI,CAACD,MAAD,CAAJ,CAAae,SAAb,CAAuBC,MAAvB,CAA8Bf,IAAI,CAACD,MAAD,CAAJ,CAAaiB,OAA3C,CAAhB;AAGAnB,IAAAA,WAAW,CAAC3B,WAAW,CAACmC,OAAD,CAAZ,CAAX;AAIA,QAAIJ,OAAO,CAACI,OAAR,CAAgBN,MAAhB,KAA2BE,OAAO,CAACI,OAAR,CAAgBN,MAAhB,EAAwBrB,KAAxB,KAAkC,EAAjE,EAAqEiB,iBAAiB,CAACM,OAAO,CAACI,OAAR,CAAgBN,MAAhB,CAAD,CAAjB;AACtE,GAZQ,EAYN,CAACA,MAAD,CAZM,CAAT;AAaA,MAAMkB,IAAI,GACR,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEtC,MAAM,CAACG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,OAAD;AAAS,IAAA,KAAK,uBAAqB,GAArB,IAA2BiB,MAAM,GAAG,CAApC,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAEC,IAAI,CAACD,MAAD,CADZ;AAEE,IAAA,cAAc,EAAEL,cAFlB;AAGE,IAAA,iBAAiB,EAAEC,iBAHrB;AAIE,IAAA,MAAM,EAAEI,MAJV;AAKE,IAAA,OAAO,EAAEE,OALX;AAME,IAAA,QAAQ,EAAEL,QANZ;AAOE,IAAA,WAAW,EAAEC,WAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAaE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,QADR;AAGE,IAAA,OAAO,EAAE,mBAAM;AACb,UAAIE,MAAM,IAAIC,IAAI,CAACM,MAAL,GAAc,CAA5B,EAA+B;AAE7BJ,QAAAA,iBAAiB;AAClB,OAHD,MAGO;AAELM,QAAAA,oBAAoB;AACrB;AACF,KAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,CADF;AA6BA,SAAOS,IAAP;AACD;;AAED,eAAe1B,YAAf","sourcesContent":["import React, { useState, useEffect, useLayoutEffect } from 'react';\nimport {\n  // Text,\n  View,\n  StyleSheet,\n  Button,\n} from 'react-native';\n\n// shared components\nimport Heading from 'components/shared/Heading';\n\nimport TriviaCard from 'components/shared/TriviaCard';\n\nconst getListData = (list) => {\n  const result = list.map((element, index) => {\n    // give item an id and assign it's value property as the element\n    const item = { id: index, title: element };\n    // console.log('item: ', item);\n\n    // DEVELOPER DEBUG: display the item as string if not a string\n    // if (typeof element !== 'string') item.title = JSON.stringify(element);\n    return item;\n  });\n  return result;\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    // justifyContent: 'center',\n    alignItems: 'center',\n    // backgroundColor: 'lightblue', // '#ecf0f1',\n    padding: 8,\n    paddingTop: 50,\n  },\n  text: {\n    margin: 24,\n    fontSize: 18,\n    // fontWeight: 'bold',\n    textAlign: 'center',\n  },\n});\n// VIEW COMPONENT DEFINITION BEGINS HERE\nfunction PromptScreen({ navigation, route }) {\n  // console.log('route.params.results: ', route.params.results);\n\n  // state\n  const [selectedAnswer, setSelectedAnswer] = useState('');\n\n  const [listData, setListData] = useState([]);\n\n  // props\n  const { cardId, data, results } = route.params;\n  // console.log('data[cardId].question: ', data[cardId].question);\n\n  // Navigation methods\n  const showResultsScreen = () => {\n    console.log('results.answers.length: ', results.answers.length);\n    console.log('data.length: ', data.length);\n    navigation.push('Results', {\n    data,\n    results,\n  })};\n  const showNextPromptScreen = () => {\n    // show next page\n    navigation.push('Prompt', {\n      cardId: cardId + 1,\n      data,\n      results,\n    });\n  };\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => (\n        <Button onPress={() => navigation.replace('Welcome')} title=\"Quit\" />\n      ),\n    });\n  }, [navigation]);\n  // when previous user answer or answer changes\n  useEffect(() => {\n    // record new answer\n    if (selectedAnswer) {\n      results.answers[cardId] = selectedAnswer;\n    } else {\n      results.answers[cardId] = {\n        id: cardId,\n        title: '',\n      }\n    }\n    // console.log('results.answers: ', results.answers);\n  }, [selectedAnswer]);\n  // when trivia item changes\n  useEffect(() => {\n    // global.MAX_QUESTIONS_PER_ROUND\n    if (cardId >= global.MAX_QUESTIONS_PER_ROUND) showResultsScreen()\n    // combine answers to be displayed\n    const answers = data[cardId].incorrect.concat(data[cardId].correct);\n\n    // parse answers into list data format\n    setListData(getListData(answers));\n\n    // set any previously chosen player answers\n    // console.log('results.answers[cardId]: ', results.answers[cardId]);\n    if (results.answers[cardId] && results.answers[cardId].title !== '') setSelectedAnswer(results.answers[cardId]);\n  }, [cardId]);\n  const view = (\n    <View style={styles.container}>\n      {/* TRIVIA CARD */}\n      <Heading title={`Question Number:${' '}${cardId + 1}`} />\n      <TriviaCard\n        item={data[cardId]}\n        selectedAnswer={selectedAnswer}\n        setSelectedAnswer={setSelectedAnswer}\n        cardId={cardId}\n        results={results}\n        listData={listData}\n        setListData={setListData}\n      />\n      {/* SUBMIT BUTTON */}\n      <Button\n        title=\"Submit\"\n        // disabled={Boolean(!selectedAnswer)}\n        onPress={() => {\n          if (cardId >= data.length - 1) {\n            // if end of list, show results screen to user\n            showResultsScreen();\n          } else {\n            // else, show user next question\n            showNextPromptScreen();\n          }\n        }}\n      />\n    </View>\n  );\n  return view;\n} // END VIEW DEF\n\nexport default PromptScreen;\n"]},"metadata":{},"sourceType":"module"}